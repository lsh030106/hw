# 프로토콜

>네트워크상에서 어느 둘 이상의 개체 (entity) 가 **상호작용** 하기 위해 함께 인식할 수 있는 프로토콜이 필요하다.



* ## 네트워크 프로토콜

  > 통신하는 둘 이상의 원격 개체가 포함된 인터넷에서의 모든 활동을 제어함

  

* 물리적으로 연결된 두 컴퓨터의 **네트워크 접속 카드(Network Interface Card; NIC)**에서 하드웨어로 구현된 프로토콜은

  컴퓨터 사이에 연결된 선로 상의 비트 흐름을 제어한다 (ex. congestion-control protocol 은 송수신자 간 전송되는 패킷률 조절)

  

* 라우터에서 프로토콜은 송신지에서 목적지까지의 경로로 설정한다. 즉 인터넷의 모든 영역에서 작동하는 프로토콜이다.



 * 통신 목적에 따라 프로토콜을 선택해야 한다

**프로토콜은 둘 이상의 통신 개체 간에 교환되는 메세지 포맷과 순서뿐 아니라, 메시지의 송수신과 다른 이벤트에서 취하는 행동들을 정의한다.**

---





# 네트워크의 가장자리 (Network Edge)

> 네트워크의 가장자리 (edge) 에서 네트워크 중심(core) 로, 네트워크에서 스위칭(교환) 과 라우팅(경로 설정)에 대해서 



* ## 종단 시스템

  > 앞서 설명했듯 인터넷에 연결된 컴퓨터를 end system, 종단 시스템이라고 부른다.
  >
  > 이들은 인터넷의 가장자리에 위치하기에 종단 시스템이라 하며 여러 종류의 컴퓨터를 포함한다
  >
  > 데스크톱, 서버, 모바일 컴퓨터 등 인터넷 종단 시스템은 일반적인 사용자가 직접 접하지 않는 서버 컴퓨터도 포함된다

  * 종단 시스템은 웹 브라우저 프로그램, 서버 프로그램, 전자메일 서버등 애플리케이션을 수행하니 **호스트** 라고도 부른다

  * 이 호스트는 경우에 따라 **클라이언트(client)** 와 **서버(server)** 로 구분한다

    

* ## 클라이언트/서버 모델

  > 보통 클라이언트는 데스크톱, 모바일PC. PDA 등을 의미하며 서버는 웹 페이지와 비디오를 저장 및 배포하는 컴퓨터를 의미
  >
  > 웹, 전자메일, 파일 전송, 탈넷 등 인기있는 애플리케이션 모델

  * **클라이언트 프로그램**은 종단 시스템에서 수행되며 다른 종단 시스템에서 수행되는 서버 프로그램에게 서비스를 요청한다 

    

  * 클라이언트와 서버는 서로 다른 컴퓨터에서 수행되니 분산 애플리케이션 형태, 인터넷을 통해 서로 송수신하며 상호작용한다

    

* ## 비연결형 서비스와 연결지향형 서비스

  > TCP/IP 네트워크, 그중 인터넷은 종단 시스템 에플리케이션에게 비연결형 서비스와 연결지향형 서비스를 제공한다
  >
  > 우리는 이 두 서비스 중 하나를 이용해 애플리게이션을 설계 해야한다

  

  + ### 연결지향형 서비스

    

    * #### 핸드셰이킹(handshaking)

      실제 데이터를 가진 패킷을 송신하기 전 서로 제어패킷을 보낸다

      상호확인을 위한 이 과정은 서로 제어패킷을 보내 패킷이 전달된다는 걸 알려 통신할 수 있는 준비를 하게 된다

      핸드셰이킹 과정이 모두 끝나면 **두 종단 시스템 간에 연결**이 설정되었다고 말한다

      

    * #### 연결 서비스? 연결 지향형 서비스?

      종단 시스템이 매우 느슨한 형태로 연결되어 있다는 사실 때문에 연결 서비스가 아닌 연결 지향형 서비스로 칭한다

      인터넷의 모든 구성요소 중 오직 종단 시스템 자기 자신만이 연결됐음을 알고 있으며 패킷 스위치(라우터) 는 이런 연결 설정을

      알지 못한다. 중간의 패킷 스위치들은 어떠한 연결 상태 정보도 유지하지 않는다

      

      즉,  인터넷에서의 연결은 **할당된 버퍼와 변수**들로 구성되어 해당 종단 시스템에서만 존재하게 된다.

      

    * #### 신뢰적인 데이터 전송

      **reliable data transfer, 신뢰적인 데이터 전송** 이란 말 그대로 한 애플리케이션이 연결을 통해 보낸 데이터를 **순서대로, 오류 없이**

      전달할 수 있다는 것을 의미한다.

      인터넷에서의 신뢰성은 **확인응답**과 **재전송**을 통해 얻을 수 있다

      

      + 간단하게 패킷을 수신한 후 **확인 응답(acknowledment)** 메시지를 보내 정상적으로 수신받았다고 전하는 것, 송신자는 패킷 전송후

        확인 응답 메시지를 수신 받지 못하면 정상적으로 송신되지 않았다고 판단해  **재전송**한다
    
      
      
      **Flow control, 흐름 제어** 란 연결 상태의 **어느 한쪽이 너무 빠르게 많은 패킷을 보내**서 상대방을 압박하지 못하도록 제어하는 것
      
      송신자가 보내는 속도를 수신자가 따라가지 못할 위험이 있다. 그때 flow control service 는 송신자의 속도를 줄이게끔 제어한다
      
      
      
      **Congestion control, 혼잡 제어** 서비스는 인터넷이 혼란 상태로 빠져드는 것을 방지하는데 도움을 준다
      
      
      
      * 라우터가 혼잡 상태에 빠지면, 버퍼 용량이 부족해지는 버퍼 오버플로우 현상이 발생해 패킷 손실이 생긴다. 이때 계속해서 호스트들이 패킷을 보내면
      
        패킷전달이 불가능한 상황까지 빠져든다.
      
        이에 인터넷은 혼잡한 시기에 종단 시스템이 네트워크로 보내는 패킷 전송률을 낮춤으로 이 상황을 해결한다.
      
        호스트들 또한 자신들이 보낸 패킷에 대한 확인 응답 메시지를 계속 받지 못함으로 혼잡상태에 빠졌다는 걸 알 수 있다.
      
      
      
      ##### 단 위에서 살펴본 3가지 특징이 연결 지향형 서비스의 필수 요소는 아니다.
      
      ##### 통신 개체들 사이에서 데이터 전송 전 핸드셰이킹을 수행하는 프로토콜은 모두 연결지향형 서비스라 칭한다
  
  